{"version":3,"sources":["../../server/utils/Nodemailer.js"],"names":["sendMessage","toAccount","message","subject","useTestAccount","nodemailer","createTestAccount","fromAccount","user","process","env","SenderEmail","password","SenderPassword","transporter","createTransport","host","port","secure","auth","pass","console","log","mailOptions","from","to","html","sendMail","info","messageId","error"],"mappings":";;;;;;;AAAA;;;;;;;;AAEO,IAAMA,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBACzBC,SADyB,EAEzBC,OAFyB,EAGzBC,OAHyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIzBC,YAAAA,cAJyB,2DAIR,KAJQ;AAAA;;AAAA,kBAQnBA,cAAc,KAAK,IARA;AAAA;AAAA;AAAA;;AAAA;AAAA,mBASDC,oBAAWC,iBAAX,EATC;;AAAA;AASrBC,YAAAA,WATqB;AAAA;AAAA;;AAAA;AAWrBA,YAAAA,WAAW,GAAG;AACZC,cAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADN;AAEZC,cAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFV,aAAd;;AAXqB;AAiBnBC,YAAAA,WAjBmB,GAiBLT,oBAAWU,eAAX,CAA2B;AAC3CC,cAAAA,IAAI,EAAE,gBADqC;AAE3CC,cAAAA,IAAI,EAAE,GAFqC;AAG3CC,cAAAA,MAAM,EAAE,IAHmC;AAI3CC,cAAAA,IAAI,EAAE;AACJX,gBAAAA,IAAI,EAAED,WAAW,CAACC,IADd;AAEJY,gBAAAA,IAAI,EAAEb,WAAW,CAACa;AAFd;AAJqC,aAA3B,CAjBK;AA2BvBC,YAAAA,OAAO,CAACC,GAAR,CAAYR,WAAZ;AAEIS,YAAAA,WA7BmB,GA6BL;AAChBC,cAAAA,IAAI,EAAE,iBADU;AAEhBC,cAAAA,EAAE,EAAExB,SAFY;AAGhBE,cAAAA,OAAO,oCAA6BA,OAA7B,CAHS;AAIhBuB,cAAAA,IAAI,EAAExB;AAJU,aA7BK;AAAA;AAAA,mBAoCNY,WAAW,CAACa,QAAZ,CAAqBJ,WAArB,CApCM;;AAAA;AAoCnBK,YAAAA,IApCmB;AAsCvBP,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BM,IAAI,CAACC,SAAnC;AAtCuB;AAAA;;AAAA;AAAA;AAAA;AAwCvBR,YAAAA,OAAO,CAACS,KAAR;;AAxCuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAX9B,WAAW;AAAA;AAAA;AAAA,GAAjB","sourcesContent":["import nodemailer from \"nodemailer\";\n\nexport const sendMessage = async (\n  toAccount,\n  message,\n  subject,\n  useTestAccount = false\n) => {\n  try {\n    let fromAccount;\n    if (useTestAccount === true) {\n      fromAccount = await nodemailer.createTestAccount();\n    } else {\n      fromAccount = {\n        user: process.env.SenderEmail,\n        password: process.env.SenderPassword\n      };\n    }\n\n    let transporter = nodemailer.createTransport({\n      host: \"smtp.gmail.com\",\n      port: 465,\n      secure: true,\n      auth: {\n        user: fromAccount.user,\n        pass: fromAccount.pass\n      }\n    });\n\n    console.log(transporter);\n\n    let mailOptions = {\n      from: '\"Search Sender\"',\n      to: toAccount,\n      subject: `Your Search Results for ${subject}`,\n      html: message\n    };\n\n    let info = await transporter.sendMail(mailOptions);\n\n    console.log(\"Message sent: \", info.messageId);\n  } catch (err) {\n    console.error(err);\n  }\n};\n"],"file":"Nodemailer.js"}