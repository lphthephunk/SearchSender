{"version":3,"sources":["../../../server/utils/craigslist/postRetriever.js"],"names":["searchCraigslist","city","keywords","category","hasPic","searchTitlesOnly","client","craigslist","Client","options","posts","search","result","forEach","price","date","title","url","push","console","error"],"mappings":";;;;;;;AAAA;;;;;;;;AAEO,IAAMA,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAC9BC,IAD8B,EAE9BC,QAF8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAG9BC,YAAAA,QAH8B,2DAGnB,KAHmB;AAI9BC,YAAAA,MAJ8B,2DAIrB,IAJqB;AAK9BC,YAAAA,gBAL8B,2DAKX,KALW;AAO1BC,YAAAA,MAP0B,GAOjB,IAAIC,wBAAWC,MAAf,CAAsB;AACjCP,cAAAA,IAAI,EAAEA;AAD2B,aAAtB,CAPiB;AAWxBQ,YAAAA,OAXwB,GAWd;AACdL,cAAAA,MAAM,EAANA,MADc;AAEdC,cAAAA,gBAAgB,EAAhBA,gBAFc;AAGdF,cAAAA,QAAQ,EAARA;AAHc,aAXc;AAAA;AAkBxBO,YAAAA,KAlBwB,GAkBhB,EAlBgB;AAAA;AAAA,mBAmBPJ,MAAM,CAACK,MAAP,CAAcF,OAAd,EAAuBP,QAAvB,CAnBO;;AAAA;AAmBtBU,YAAAA,MAnBsB;AAoB5BA,YAAAA,MAAM,CAACC,OAAP,CAAe,iBAAiC;AAAA,kBAA9BC,KAA8B,SAA9BA,KAA8B;AAAA,kBAAvBC,IAAuB,SAAvBA,IAAuB;AAAA,kBAAjBC,KAAiB,SAAjBA,KAAiB;AAAA,kBAAVC,GAAU,SAAVA,GAAU;AAC9CP,cAAAA,KAAK,CAACQ,IAAN,qBACeF,KADf,6BACuCF,KADvC,gCACkEC,IADlE,wBACoFE,GADpF;AAGD,aAJD;AApB4B,6CAyBrBP,KAzBqB;;AAAA;AAAA;AAAA;AA2B5BS,YAAAA,OAAO,CAACC,KAAR;;AA3B4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBpB,gBAAgB;AAAA;AAAA;AAAA,GAAtB","sourcesContent":["import craigslist from \"node-craigslist\";\n\nexport const searchCraigslist = async (\n  city,\n  keywords,\n  category = \"sss\" /* all */,\n  hasPic = true,\n  searchTitlesOnly = false\n) => {\n  let client = new craigslist.Client({\n    city: city\n  });\n\n  const options = {\n    hasPic,\n    searchTitlesOnly,\n    category\n  };\n\n  try {\n    let posts = [];\n    const result = await client.search(options, keywords);\n    result.forEach(({ price, date, title, url }) => {\n      posts.push(\n        `<b>Title: ${title}</b><br/>Price: ${price}<br/>Posting Date: ${date}<br/>Link: ${url}`\n      );\n    });\n    return posts;\n  } catch (err) {\n    console.error(err);\n  }\n};\n"],"file":"postRetriever.js"}