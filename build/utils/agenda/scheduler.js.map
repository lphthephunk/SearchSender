{"version":3,"sources":["../../../server/utils/agenda/scheduler.js"],"names":["everyday","job","time","hours","slice","minutes","repeatEvery","Number","toString","skipImmediate","save","certainDays","days","formattedDays","map","day","push","join"],"mappings":";;;;;;;AAAO,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAMC,IAAN,EAAe;AACrC;AACA,MAAMC,KAAK,GAAGD,IAAI,CAACE,KAAL,CAAW,CAAX,EAAc,CAAd,CAAd;AACA,MAAMC,OAAO,GAAGH,IAAI,CAACE,KAAL,CAAW,CAAX,CAAhB;AAEAH,EAAAA,GAAG,CAACK,WAAJ,WAAmBC,MAAM,CAACF,OAAD,CAAN,CAAgBG,QAAhB,EAAnB,cAAiDL,KAAK,CAACK,QAAN,EAAjD,aAA2E;AACzEC,IAAAA,aAAa,EAAE;AAD0D,GAA3E;AAGAR,EAAAA,GAAG,CAACS,IAAJ;AACD,CATM;;;;AAWA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACV,GAAD,EAAMW,IAAN,EAAYV,IAAZ,EAAqB;AAC9C;AACA,MAAMC,KAAK,GAAGD,IAAI,CAACE,KAAL,CAAW,CAAX,EAAc,CAAd,CAAd;AACA,MAAMC,OAAO,GAAGH,IAAI,CAACE,KAAL,CAAW,CAAX,CAAhB;AACA,MAAMS,aAAa,GAAG,EAAtB;AACAD,EAAAA,IAAI,CAACE,GAAL,CAAS,UAAAC,GAAG,EAAI;AACd,QAAIA,GAAG,KAAK,QAAZ,EAAsB;AACpBF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAAnB;AACD,KAFD,MAEO,IAAID,GAAG,KAAK,SAAZ,EAAuB;AAC5BF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAAnB;AACD,KAFM,MAEA,IAAID,GAAG,KAAK,WAAZ,EAAyB;AAC9BF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAAnB;AACD,KAFM,MAEA,IAAID,GAAG,KAAK,UAAZ,EAAwB;AAC7BF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAAnB;AACD,KAFM,MAEA,IAAID,GAAG,KAAK,QAAZ,EAAsB;AAC3BF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAAnB;AACD,KAFM,MAEA,IAAID,GAAG,KAAK,UAAZ,EAAwB;AAC7BF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAAnB;AACD,KAFM,MAEA,IAAID,GAAG,KAAK,QAAZ,EAAsB;AAC3BF,MAAAA,aAAa,CAACG,IAAd,CAAmB,CAAnB;AACD;AACF,GAhBD;AAkBAf,EAAAA,GAAG,CAACK,WAAJ,WACKC,MAAM,CAACF,OAAD,CAAN,CAAgBG,QAAhB,EADL,cACmCL,KAAK,CAACK,QAAN,EADnC,kBAC2DK,aAAa,CAACI,IAAd,CACvD,GADuD,CAD3D,GAIE;AAAER,IAAAA,aAAa,EAAE;AAAjB,GAJF;AAMAR,EAAAA,GAAG,CAACS,IAAJ;AACD,CA9BM","sourcesContent":["export const everyday = (job, time) => {\n  // assuming time is always in 24 hour format and no special characters\n  const hours = time.slice(0, 2);\n  const minutes = time.slice(2);\n\n  job.repeatEvery(`${Number(minutes).toString()} ${hours.toString()} * * *`, {\n    skipImmediate: true\n  });\n  job.save();\n};\n\nexport const certainDays = (job, days, time) => {\n  // assuming time is always in 24 hour format and no special characters\n  const hours = time.slice(0, 2);\n  const minutes = time.slice(2);\n  const formattedDays = [];\n  days.map(day => {\n    if (day === \"monday\") {\n      formattedDays.push(1);\n    } else if (day === \"tuesday\") {\n      formattedDays.push(2);\n    } else if (day === \"wednesday\") {\n      formattedDays.push(3);\n    } else if (day === \"thursday\") {\n      formattedDays.push(4);\n    } else if (day === \"friday\") {\n      formattedDays.push(5);\n    } else if (day === \"saturday\") {\n      formattedDays.push(6);\n    } else if (day === \"sunday\") {\n      formattedDays.push(0);\n    }\n  });\n\n  job.repeatEvery(\n    `${Number(minutes).toString()} ${hours.toString()} * * ${formattedDays.join(\n      \",\"\n    )}`,\n    { skipImmediate: true }\n  );\n  job.save();\n};\n"],"file":"scheduler.js"}